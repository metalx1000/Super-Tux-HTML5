<!doctype html> 
<html lang="en"> 
<head> 
    <script src="js/phaser.js"></script>
</head>
<body>
    <script>
        var height = 600;
        var width = 800;
        var world_width = width;
        //add gamepad1 var
        var pad1;

        var game = new Phaser.Game(width, height, Phaser.AUTO, '', { preload: preload, create: create, update: update });

        function preload() {
            game.load.audio('music', ['res/music.ogg', 'res/music.mp3']);
            game.load.audio('complete', ['res/leveldone.ogg', 'res/leveldone.mp3']);
            preload_player();
            preload_coins();
            preload_platforms(); 
            preload_bricks();
        }

        function create() {
            music = game.add.audio('music');
            music.play('',0,1,true);
            game.physics.startSystem(Phaser.Physics.ARCADE);
            load_player();

            load_platforms();
            load_bricks();
            load_coins();

            keyF = game.input.keyboard.addKey(Phaser.Keyboard.F);
            keyF.onDown.add(player_run_true, this);
            keyF.onUp.add(player_run_false, this);

            game.input.onDown.add(go_fullscreen, this);

        }

        function update() {
            update_player();
            update_coins();
        }        

        function go_fullscreen(){
            game.scale.fullScreenScaleMode = Phaser.ScaleManager.SHOW_ALL;
            game.scale.startFullScreen();
        }



    </script>

    <script src="js/coins.js"></script>
    <script src="js/player.js"></script>
    <script src="js/platforms.js"></script>
    <script src="js/bricks.js"></script>
</body>
</html>
